<!DOCTYPE html>
<html lang="en">
    <head th:replace="~{/layouts/header}">
        <title>Đổi mật khẩu</title>
    </head>
    <body>
        <header th:replace="~{/layouts/nav}">
        </header>
        <main class="container">
            <section class="text-center text-lg-start">
                <div class="container-fluid h-100 border border-secondary rounded p-3 bg-light" data-aos="fade-up" data-aos-duration="1000">
                    <div class="row h-100">
                        <div class="col-sm-6 text-black d-flex align-items-center">
                            <div class="px-5 ms-xl-4 mt-5 pt-5 pt-xl-0 mt-xl-n5 w-100">
                                <form th:action="@{/doimatkhau}" th:object="${tdmk}" method="post" id="changePasswordForm" style="max-width: 23rem; margin: auto;">
                                    <h2 class="text-center mb-4">Đổi Mật Khẩu</h2>
                                    <div th:if="${errorMessage}" class="alert alert-danger mt-3" th:text="${errorMessage}"></div>
                                    <!-- Mật khẩu cũ -->
                                    <div class="mb-3">
                                        <div class="input-group">
                                            <input type="password" th:field="*{currentPassword}" class="form-control" placeholder="Mật khẩu hiện tại" />
                                            <button type="button" class="btn btn-outline-secondary toggle-password" data-target="currentPassword"><i class="fas fa-eye"></i></button>
                                        </div>
                                        <div th:if="${#fields.hasErrors('currentPassword')}" th:errors="*{currentPassword}" class="text-danger small"></div>
                                    </div>
                                
                                    <!-- Mật khẩu mới -->
                                    <div class="mb-3">
                                        <div class="input-group">
                                            <input type="password" th:field="*{newPassword}" class="form-control" placeholder="Mật khẩu mới" />
                                            <button type="button" class="btn btn-outline-secondary toggle-password" data-target="newPassword"><i class="fas fa-eye"></i></button>
                                        </div>
                                        <div th:if="${#fields.hasErrors('newPassword')}" th:errors="*{newPassword}" class="text-danger small"></div>
                                    </div>
                                
                                    <!-- Xác nhận -->
                                    <div class="mb-3">
                                        <div class="input-group">
                                            <input type="password" th:field="*{confirmPassword}" class="form-control" placeholder="Xác nhận mật khẩu mới" />
                                            <button type="button" class="btn btn-outline-secondary toggle-password" data-target="confirmPassword"><i class="fas fa-eye"></i></button>
                                        </div>
                                        <div th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="text-danger small"></div>
                                    </div>
                                
                                    <!-- Nút submit -->
                                    <button type="submit" class="btn btn-primary w-100">Xác Nhận</button>
                                
                                    <!-- Thông báo lỗi -->
                                    
                                
                                    <!-- Quay lại -->
                                    <div class="text-center mt-3">
                                        <a href="/" class="text-decoration-none">Quay lại trang chủ</a>
                                    </div>
                                </form>                                
                                
                            </div>
                        </div>
                        
                        <!-- Hình ảnh -->
                        <div class="col-sm-6 px-0 d-none d-sm-block">
                            <img src="https://i.pinimg.com/736x/33/24/cd/3324cdb70febcaba0a66852f0e17322c.jpg"
                                 alt="Change Password image" class="w-50 vh-50" style="object-fit: cover; object-position: left;">
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div th:replace="~{/layouts/footer}">
        </div>
    </body>
</html>
