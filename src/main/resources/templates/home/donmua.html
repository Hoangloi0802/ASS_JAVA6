<!DOCTYPE html>
<html lang="en">
<head th:replace="~{/layouts/header}">
  <title>Home</title>
</head>
<body>
  <header th:replace="~{/layouts/nav}"></header>
  <main class="container my-5">
    <div class="text-center mb-4">
      <h2>üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng!</h2>
      <p>C·∫£m ∆°n b·∫°n ƒë√£ mua s·∫Øm t·∫°i c·ª≠a h√†ng c·ªßa ch√∫ng t√¥i.</p>
    </div>
    <div class="card mb-4">
      <div class="card-body">
        <h5>Th√¥ng tin ƒë∆°n h√†ng</h5>
        <p><strong>M√£ ƒë∆°n h√†ng:</strong> <span th:text="${order.id}"></span></p>
        <p><strong>Ng√†y ƒë·∫∑t:</strong> <span th:text="${#temporals.format(order.createDate, 'dd/MM/yyyy')}"></span></p>
        <p><strong>Tr·∫°ng th√°i:</strong> <span class="badge" th:classappend="${order.status} ? 'bg-success' : 'bg-danger'" th:text="${order.status} ? 'Ho√†n th√†nh' : 'Ch∆∞a ho√†n th√†nh'"></span></p>
      </div>
    </div>

    <!-- Danh s√°ch s·∫£n ph·∫©m -->
    <div class="card mb-4">
      <div class="card-body">
        <h5>Danh s√°ch s·∫£n ph·∫©m</h5>
        <ul class="list-group">
          <li class="list-group-item d-flex align-items-center" th:each="item : ${order.orderDetails}">
            <img th:src="${item.product.productImages[0].imageUrl}" class="product-img me-3" alt="S·∫£n ph·∫©m">
            <div class="flex-grow-1">
              <h6 class="mb-1" th:text="${item.product.name}"></h6>
              <small>S·ªë l∆∞·ª£ng: <span th:text="${item.quantity}"></span></small>
            </div>
            <strong th:text="${#numbers.formatDecimal(item.price, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></strong>
          </li>
        </ul>
      </div>
    </div>

    <!-- Th√¥ng tin giao h√†ng -->
    <div class="card mb-4">
      <div class="card-body">
        <h5>Th√¥ng tin giao h√†ng</h5>
        <p><strong>H·ªç v√† t√™n:</strong> <span th:text="${order.account.fullname}"></span></p>
        <p><strong>ƒê·ªãa ch·ªâ:</strong> <span th:text="${order.address}"></span></p>
        <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> <span th:text="${order.account.mobile}"></span></p>
      </div>
    </div>

    <!-- T·ªïng ti·ªÅn -->
    <div class="card mb-4">
      <div class="card-body">
        <h5>T√≥m t·∫Øt ƒë∆°n h√†ng</h5>
        <ul class="list-group">
          <li class="list-group-item d-flex justify-content-between">
            <span>T·∫°m t√≠nh</span>
            <strong th:text="${#numbers.formatDecimal(subtotal, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></strong>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>Ph√≠ v·∫≠n chuy·ªÉn</span>
            <strong th:text="'+' + ${#numbers.formatDecimal(shippingFee, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></strong>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>Voucher gi·∫£m gi√°</span>
            <strong th:text="'-' + ${#numbers.formatDecimal(discount, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></strong>
          </li>
          <li class="list-group-item d-flex justify-content-between">
            <span>T·ªïng c·ªông</span>
            <strong th:text="${#numbers.formatDecimal(totalAmount, 0, 'COMMA', 0, 'POINT')} + ' VNƒê'"></strong>
          </li>
        </ul>
      </div>
    </div>

    <!-- N√∫t quay l·∫°i -->
    <div class="text-center">
      <a href="/" class="btn btn-dark">Quay l·∫°i trang ch·ªß</a>
      <a href="/shop" class="btn btn-outline-secondary ms-2">Ti·∫øp t·ª•c mua s·∫Øm</a>
    </div>
  </main>
  <div th:replace="~{/layouts/footer}"></div>
</body>
</html>